import seaborn as sns
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
trend_bull =  [500, 500, 570, 661, 1024, 655, 685, 789, 564, 716, 1080, 635, 693, 743, 560, 696, 675, 543, 596, 769, 548, 611, 702, 613, 565, 661, 627, 2057, 2228, 555, 747, 980, 647, 671, 650, 630, 635, 946, 598, 598, 669, 572, 615, 670, 574, 646, 703, 587, 661, 716, 580, 605, 607, 684, 800, 1416, 600, 764, 748, 587, 659, 581, 678, 823, 908, 606, 735, 764, 600, 605, 616, 576, 719, 735, 577, 597, 622, 622, 556, 640, 0]
trend_bear =  [500, 500, 519, 622, 868, 558, 657, 754, 538, 727, 996, 540, 576, 713, 513, 630, 570, 521, 553, 748, 537, 545, 675, 584, 553, 632, 615, 1946, 2152, 477, 671, 902, 602, 618, 631, 605, 572, 849, 543, 577, 594, 527, 569, 628, 557, 601, 680, 565, 588, 662, 539, 581, 559, 638, 832, 1298, 546, 689, 714, 563, 626, 618, 654, 724, 835, 549, 662, 727, 572, 552, 568, 550, 627, 698, 519, 597, 565, 529, 502, 618, 0]
l =  [-3.5928433282192573, -12.960802171729323, -1.2611619925338489, -0.5881150867052013, -13.492707024430857, -7.014948801269702, -8.261507314229792, -3.831543476250175, 0.33395480084029716, -6.30513609400761, -11.36090501677417, -1.3292055267325975, 8.589634183283573, -11.00756084160095, -13.981940996423626, -3.4268633829617996, -3.0164740158574643, -0.009610527888454578, -2.692655172151103, 8.436315032386076, -3.1244224227069006, -2.05980319338221, -3.1426649122560457, 0.1200106370085133, 0.7290615389994081, -0.4513866197480887, -2.5837665308575395, -5.288237364131873, -0.3451804362928502, 0.8615120110259442, -3.2470044075001683, -0.9687989969577856, -10.01592263111078, -9.634804829996009, -7.3757600186831755, -2.6504069020286014, -3.4181006113741077, 5.480090757215531, -4.464010706786156, 5.997861725530124, -0.9115512417782738, -2.2458968832445736, -4.83874047881767, -10.758562081849522, -10.951628310530396, -1.4605470945553258, 2.392855895659005, -0.09957920351243896, 3.9801394327373325, 1.7200703121896954, 11.189247218031086, 0.12784199638120614, 24.216784432186483, 26.979001046121017, 11.072583629523816, 15.355206541790594, 18.84094416167957, 20.422993560874577, 23.646994517121673, 29.709642383849268, 17.537049785165625, 22.776989786837103, 19.894700337426404, 25.638795374566104, 26.72614703410926, 13.479496785766992, 35.56134810874665, 35.26450071701349, 31.075474000838064, 13.804810596534017, 13.231223738602745, 22.280272721552244, 6.268623235413461, 4.937949195990874, 15.461535782874032, 21.54208216067206, 0.7285268177323558, 15.139443256839808, 14.381634058815226, 15.556782740408261, 15.002108071109191, 35.10444623329145, 37.305376902680706, 5.349301564185805, 14.371506722244439, 8.902812413899902, 20.351299557056716, 31.294050205794736, 15.744717196729443, 20.36985679994554, 32.57649005184104, 10.672149839373152, 29.63968128840302, 40.354589048332485, 24.4283743033018, 43.73545039837954, 27.944362671441997, 12.586074370980018, 25.948998983437612, 30.495443600947322, 19.76173157932255, 8.037805931630611, 40.1967597154471, 21.018315307708832, 16.86456088289483, 10.224229288177282, 6.474934635284214, 21.598058734366283, 22.378726715090504, 0.765095556066652, 7.151324908865978, 2.6935799749251386, 1.31948623604725, 24.006708404629485, 20.630740017121646, 25.56128766304531, 27.031463710843138, 20.77999723318037, 28.85800618519911, 9.740964485455201, 27.08513083298344, 16.777092448308515, 3.0175575817838762, 32.085661697555445, 16.119401984802785, 9.608040085445998, 42.003517338658085, 20.894066539601873, 19.81299026469378, 27.712919225687976, -4.539766962142551, 13.717253829968703, 13.18969786126164, 17.144015107554104, 15.615398174297553, 19.221528160725676, 31.23974177921654, 22.70836482224547, 14.880896362021023, 20.409335151405156, 20.087714391695936, 18.678828235702348, 19.985565298334997, 29.262818533185815, 21.383952659727544, 29.848186618051717, 26.297520226045275, 11.958216172754339, 29.32307578278394, 25.99863496536194, 25.747155334068992, -3.538962431193325, 19.17440949155054, 14.411067916447934, 12.068512602766749, 21.7478636016392, 34.36111008090491, 17.2353929215936, 27.51017530278687, 10.071847935016944, 12.77161361631411, 22.132635596567052, -7.300785008035535, 19.738769481388093, 33.79758067498723, 35.890084973032224, 22.937321418043787, 19.683752719843305, 24.458360631245778, 36.35211014342052, 13.625294360778867, 24.46169544911967, 38.015307051115414, 13.65196748540362, 29.107046009738156, 18.99633370843252, 42.264653888258465, 25.401049863359816, 22.94083621201179, 15.087232925189387, 8.154643903947175, 4.4049002360257585, 34.52483414951551, 14.846577605173604, 24.397237266484233, 8.120687676945883, 9.767021100617823, 15.315185575177958, 22.43888353285759, 9.156942996330068, 21.97413289144589, 11.869390829860114, 16.10383916675704, 15.851519109723665, 27.320581968868062, -3.5113661328061334, 39.1487379572497, 15.43535789911273, 12.206085344128168, -5.142797539173446, 21.068801710343514, 21.650165340147403, 24.246487516443135, 32.067697213805054, 29.578055176456807, 22.36961492947328, 16.165082759347282, 18.966822949689504, 21.048315645804426, 19.962397421531016, 19.481395025600328, 28.78698055187329, 19.35005785250586, 19.988598400667563, 36.81858418709658, 16.024607918422767, 13.409414876028752, 22.415742945050248, 17.532982926643733, 11.074765160381656, 7.984969417261925, 11.131635540427741, 16.566660900571463, 40.895523258115375, 17.007988174027723, 29.36621681056435, 25.51330119706088, 18.073072578979897, 29.797757060902995, 45.05012700528435, 37.72797700974843, 36.00118948313417, 20.755801865179926, 20.835159156710127, 24.107177137619438, 18.00414107037374, 8.850379306328739, 22.31093914029384, 24.48816175900291, 22.046448191120085, 10.816848353813656, 23.455076164184952, 28.778378043811948, 13.136143247451283, 25.960898413709106, 13.39727582851116, 31.383273339127687, 14.782366757815016, 46.86789592181643]
barplot =  [ 1011,1011,1089, 1283, 1892, 1213, 1342, 1543, 1102, 1443, 2076, 1175, 1269, 1456, 1073, 1326, 1245, 1064, 1149, 1517, 1085, 1156, 1377, 1197, 1118, 1293, 1242, 4003, 4380, 1032, 1418, 1882, 1249, 1289, 1281, 1235, 1207, 1795, 1141, 1175, 1263, 1099, 1184, 1298, 1131, 1247, 1383, 1152, 1249, 1378, 1119, 1186, 1166, 1322, 1632, 2714, 1146, 1453, 1462, 1150, 1285, 1199, 1332, 1547, 1743, 1155, 1397, 1491, 1172, 1157, 1184, 1126, 1346, 1433, 1096, 1194, 1187, 1151, 1058, 1258, 0]

bull_sum=sum(trend_bull)
bear_sum=sum(trend_bear)
for i in range(len(trend_bull)):
    trend_bull[i]/=bull_sum
    trend_bear[i]/=bear_sum
a=np.array([trend_bull,trend_bear])
x=np.arange(81)
plt.bar(x+0.00,a[0],color='r',width=0.5)
plt.bar(x+0.5,a[1],color='b',width=0.5)
plt.show()


plt.bar(np.arange(81),barplot)
plt.show()
plt.plot(l)
plt.plot(pd.DataFrame(l).rolling(window=20).mean())
plt.show()
plt.bar(np.arange(81),barplot)
plt.show()

cnt=0
weight=[]
for i in range(3):
    for j in range(3):
        for k in range(3):
            for l in range(3):
                if i == 0 and j == 0 and k == 0 and l == 0:
                    continue
                else:
                    total_sum = (i + j + k + l)
                    print(cnt," 번째 정책 :",[i / total_sum, j / total_sum, k / total_sum, l / total_sum])
                    weight.append([i / total_sum, j / total_sum, k / total_sum, l / total_sum])
                    cnt+=1

ans=[]
for i in range(80):
    tmp=[trend_bull[i],weight[i]]
    ans.append(tmp)
ans.sort()
ans.reverse()
for i in range(80):
    print(i,ans[i])